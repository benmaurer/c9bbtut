{"ts":1341784015672,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\n * Module dependencies.\n */\nvar express = require('express')\n  , routes = require('./routes');\n\nvar app = module.exports = express.createServer();\n\n// Configuration\n\napp.configure(function(){\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(__dirname + '/public'));\n});\n\napp.configure('development', function(){\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));\n});\n\napp.configure('production', function(){\n  app.use(express.errorHandler());\n});\n\n// Routes\napp.get('/', routes.index);\n\n\napp.listen(process.env.PORT, function(){\n  console.log(\"Express server running;);\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":748}]],"length":748}
{"contributors":[],"silentsave":false,"ts":1341784061644,"patch":[[{"diffs":[[0," running"],[-1,";"],[1,"\""],[0,");\n});\n"]],"start1":732,"start2":732,"length1":16,"length2":16}]],"length":748,"saved":false}
{"contributors":[],"silentsave":false,"ts":1341966403080,"patch":[[{"diffs":[[0,"ss')"],[1,","],[0,"\n  "],[-1,", routes"],[1,"  mongoose"],[0," = r"]],"start1":60,"start2":60,"length1":19,"length2":22},{"diffs":[[0,"re('"],[-1,"./routes"],[1,"mongoose"],[0,"');\n"]],"start1":86,"start2":86,"length1":16,"length2":16},{"diffs":[[0,"ver();\n\n"],[1,"//to do sample model\nmongoose.connect('mongodb://bmaurer:bmaurer@flame.mongohq.com:27072/benmHQ');\n\nvar Todo = mongoose.model('Todo', new mongoose.Schema({\n  text: String,\n  done: Boolean,\n  order: Number\n}));\n\n\n//table of contents: use to build nav bar with links (title is also the page header)\nvar pages = [\n    {title: 'Home', link: 'home'},\n    {title: 'TODO App', link: 'todo'},\n    {title: 'About', link: 'about'},\n    {title: 'Bio', link: 'bio'}  \n];\n\n"],[0,"// Confi"]],"start1":147,"start2":147,"length1":16,"length2":476},{"diffs":[[0,"uration\n"],[-1,"\n"],[0,"app.conf"]],"start1":624,"start2":624,"length1":17,"length2":16},{"diffs":[[0,"', 'jade');\n"],[1,"  app.set('view options', { layout: false }); //necessary for block templ inheritance\n"],[0,"  app.use(ex"]],"start1":722,"start2":722,"length1":24,"length2":110},{"diffs":[[0,"/', "],[-1,"routes.index);\n"],[1,"function(req, res) {\n    res.render('layout', {pageHeader: \"Welcome to Ben Maurer's website!\"});\n});\n    \napp.get('/About', function(req, res) {\n    res.render('layout', {pageHeader: \"About\"});\n});\n\napp.get('/todo', function(req, res) {\n    res.render('todo', {pageHeader: \"MongoDB Backed TODO App\"});\n});\n\napp.get('/api/todos', function(req, res){\n  return Todo.find(function(err, todos) {\n    return res.send(todos);\n  });\n});\n\napp.get('/api/todos/:id', function(req, res){\n  return Todo.findById(req.params.id, function(err, todo) {\n    if (!err) {\n      return res.send(todo);\n    }\n  });\n});\n\napp.put('/api/todos/:id', function(req, res){\n  return Todo.findById(req.params.id, function(err, todo) {\n    todo.text = req.body.text;\n    todo.done = req.body.done;\n    todo.order = req.body.order;\n    return todo.save(function(err) {\n      if (!err) {\n        console.log(\"updated\");\n      }\n      return res.send(todo);\n    });\n  });\n});\n\napp.post('/api/todos', function(req, res){\n  var todo;\n  todo = new Todo({\n    text: req.body.text,\n    done: req.body.done,\n    order: req.body.order\n  });\n  todo.save(function(err) {\n    if (!err) {\n      return console.log(\"created\");\n    }\n  });\n  return res.send(todo);\n});\n\napp.delete('/api/todos/:id', function(req, res){\n  return Todo.findById(req.params.id, function(err, todo) {\n    return todo.remove(function(err) {\n      if (!err) {\n        console.log(\"removed\");\n        return res.send('')\n      }\n    });\n  });\n});"],[0,"\n\nap"]],"start1":1189,"start2":1189,"length1":23,"length2":1481}]],"length":2754,"saved":false}
